<h3><i>Using FormArray to add groups</i></h3>

<form *ngIf="apartmentForm" [formGroup]="apartmentForm">
  <p>Form Changed: {{ apartmentForm.dirty }}</p>

  <div>
    <label>status:
      <input formControlName="status">
    </label>
  </div>
  <div  formArrayName="apartmentInfo">
    <div *ngFor="let info of apartmentInfo.controls; let i=index" [formGroupName]="i">
      <!-- The repeated address template -->
      <h4>info #{{i + 1}}</h4>
      <div>
        <label>name:
          <input formControlName="name">
        </label>
      </div>
      <div>
        <label>phone:
          <input formControlName="phone">
        </label>
      </div>

      <div>
        <label>email:
          <input formControlName="email">
        </label>
      </div>
      <br>
      <!-- End of the repeated address template -->
    </div>
    <button (click)="addInfo()" type="button">Add info</button>
  </div>
</form>


